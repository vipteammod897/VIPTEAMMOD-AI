<!DOCTYPE html>
<html>
<head>
  <title>VIPTEAMMOD Alert + Design Panel</title>
  <meta charset="UTF-8" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: #000;
      color: #0ff;
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: 'Share Tech Mono', monospace;
      overflow-x: hidden;
      position: relative;
    }
    
    /* Matrix rain background effect */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), 
                  url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
      z-index: -2;
    }
    
    /* Canvas for Matrix effect */
    #matrix {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    
    /* Glitch effect for title */
    h1, h2, h3 {
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      position: relative;
      text-shadow: 
        0 0 5px #0ff, 
        0 0 10px #0ff, 
        0 0 15px #0ff, 
        0 0 20px #0ff;
      letter-spacing: 2px;
      margin-bottom: 20px;
    }
    
    h2 {
      font-size: 24px;
      color: #0ff;
      text-align: center;
      padding: 10px;
      border: 1px solid #0ff;
      border-radius: 5px;
      background: rgba(0, 255, 255, 0.1);
      box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
      width: 100%;
    }
    
    h3 {
      font-size: 20px;
      color: #f0f;
      margin-top: 30px;
      padding-bottom: 10px;
      border-bottom: 1px dashed #f0f;
    }
    
    /* Terminal style panel */
    .panel-box {
      background: rgba(0, 20, 0, 0.7);
      border: 1px solid #0ff;
      border-radius: 5px;
      padding: 20px;
      margin-bottom: 20px;
      width: 100%;
      max-width: 800px;
      box-shadow: 
        0 0 10px rgba(0, 255, 0, 0.3),
        inset 0 0 20px rgba(0, 255, 0, 0.1);
      position: relative;
      overflow: hidden;
    }
    
    .panel-box::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, 
                  transparent 0%, 
                  rgba(0, 255, 0, 0.1) 50%, 
                  transparent 100%);
      animation: scan 8s linear infinite;
    }
    
    @keyframes scan {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    /* Form elements */
    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
      font-size: 15px;
      color: #0ff;
      text-shadow: 0 0 5px #0ff;
    }
    
    input[type="text"], textarea, select, input[type="color"], input[type="email"], input[type="password"], input[type="number"], input[type="date"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #0ff;
      border-radius: 3px;
      margin-top: 5px;
      background: rgba(0, 0, 0, 0.7);
      color: #0ff;
      font-size: 15px;
      font-family: 'Share Tech Mono', monospace;
      outline: none;
      box-shadow: 0 0 5px rgba(0, 255, 0, 0.3);
      transition: all 0.3s;
    }
    
    input[type="text"]:focus, textarea:focus, select:focus, input[type="email"]:focus, input[type="password"]:focus, input[type="number"]:focus, input[type="date"]:focus {
      box-shadow: 0 0 10px rgba(0, 255, 0, 0.7);
      background: rgba(0, 20, 0, 0.8);
    }
    
    input[type="color"] {
      height: 40px;
      cursor: pointer;
    }
    
    /* Buttons */
    button {
      margin-top: 15px;
      padding: 10px 20px;
      background: transparent;
      border: 1px solid #0ff;
      border-radius: 3px;
      color: #0ff;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }
    
    button::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: rgba(0, 255, 0, 0.2);
      transition: left 0.3s;
    }
    
    button:hover::before {
      left: 0;
    }
    
    button:hover {
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.7);
      text-shadow: 0 0 5px #0ff;
    }
    
    /* Status display */
    #statusDisplay, #popupStatus, #statusLabel, #btnLockStatus, #maintenanceStatus, #maintenanceStatus2 {
      margin-top: 15px;
      font-weight: bold;
      font-size: 15px;
      text-align: center;
      color: #0ff;
      text-shadow: 0 0 5px #0ff;
    }
    
    /* Toggle switches */
    .switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 30px;
      vertical-align: middle;
    }
    
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #333;
      border: 1px solid #0ff;
      transition: .4s;
      border-radius: 30px;
    }
    
    .slider:before {
      position: absolute;
      content: "";
      height: 22px;
      width: 22px;
      left: 3px;
      bottom: 3px;
      background-color: #0ff;
      transition: .4s;
      border-radius: 50%;
      box-shadow: 0 0 5px #0ff;
    }
    
    input:checked + .slider {
      background-color: rgba(0, 255, 0, 0.2);
    }
    
    input:checked + .slider:before {
      transform: translateX(30px);
    }
    
    /* Horizontal rule */
    hr {
      margin: 20px 0;
      width: 100%;
      border: none;
      height: 1px;
      background: linear-gradient(to right, transparent, #0ff, transparent);
      box-shadow: 0 0 5px #0ff;
    }
    
    /* Login popup */
    #loginPopup {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      border: 2px solid #0ff;
      box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
    }
    
    #loginPopup > div {
      background: rgba(0, 20, 0, 0.9);
      padding: 30px;
      border-radius: 5px;
      width: 350px;
      text-align: center;
      border: 1px solid #0ff;
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
    }
    
    #loginPopup h2 {
      color: #0ff;
      margin-bottom: 20px;
      font-size: 22px;
    }
    
    #loginPopup input {
      margin-bottom: 15px;
    }
    
    #loginPopup button {
      background: transparent;
      border: 1px solid #f00;
      color: #f00;
      width: 100%;
    }
    
    #loginPopup button:hover {
      box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
      text-shadow: 0 0 5px #f00;
    }
    
    /* ASCII art header */
    .ascii-header {
      color: #0ff;
      font-family: 'Share Tech Mono', monospace;
      white-space: pre;
      text-align: center;
      font-size: 10px;
      line-height: 10px;
      margin-bottom: 20px;
      text-shadow: 0 0 5px #0ff;
    }
    
    /* Blinking cursor */
    .cursor {
      display: inline-block;
      width: 10px;
      height: 15px;
      background-color: #0f0;
      animation: blink 1s infinite;
      vertical-align: text-bottom;
      margin-left: 5px;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    /* Glitch text effect */
    .glitch {
      position: relative;
      color: #0ff;
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
    }
    
    .glitch::before,
    .glitch::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    .glitch::before {
      left: 2px;
      text-shadow: -1px 0 #f00;
      clip: rect(44px, 450px, 56px, 0);
      animation: glitch-anim 5s infinite linear alternate-reverse;
    }
    
    .glitch::after {
      left: -2px;
      text-shadow: -1px 0 #00f;
      clip: rect(44px, 450px, 56px, 0);
      animation: glitch-anim2 1s infinite linear alternate-reverse;
    }
    
    @keyframes glitch-anim {
      0% { clip: rect(65px, 450px, 119px, 0); }
      20% { clip: rect(29px, 450px, 16px, 0); }
      40% { clip: rect(76px, 450px, 85px, 0); }
      60% { clip: rect(42px, 450px, 24px, 0); }
      80% { clip: rect(63px, 450px, 85px, 0); }
      100% { clip: rect(34px, 450px, 85px, 0); }
    }
    
    @keyframes glitch-anim2 {
      0% { clip: rect(59px, 450px, 76px, 0); }
      20% { clip: rect(65px, 450px, 85px, 0); }
      40% { clip: rect(24px, 450px, 32px, 0); }
      60% { clip: rect(76px, 450px, 85px, 0); }
      80% { clip: rect(42px, 450px, 24px, 0); }
      100% { clip: rect(34px, 450px, 85px, 0); }
    }
    
    /* Notification style */
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      background: rgba(0, 20, 0, 0.9);
      border: 1px solid #0ff;
      border-radius: 5px;
      color: #0ff;
      font-family: 'Share Tech Mono', monospace;
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      border-left: 4px solid currentColor;
      animation: slideIn 0.5s forwards, slideOut 0.5s 2.5s forwards;
    }
    
    .notification.success {
      color: #00ff99;
      border-color: #00ff99;
      box-shadow: 0 0 15px rgba(0, 255, 153, 0.5);
    }
    
    .notification.error {
      color: #ff4d4d;
      border-color: #ff4d4d;
      box-shadow: 0 0 15px rgba(255, 77, 77, 0.5);
    }
    
    .notification.warning {
      color: #ff9800;
      border-color: #ff9800;
      box-shadow: 0 0 15px rgba(255, 152, 0, 0.5);
    }
    
    .notification.info {
      color: #00c6ff;
      border-color: #00c6ff;
      box-shadow: 0 0 15px rgba(0, 198, 255, 0.5);
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); }
      to { transform: translateX(100%); }
    }
    
    /* Loading indicator */
    .loading {
      display: inline-block;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #0ff;
      animation: pulse 1.5s infinite ease-in-out;
      margin-left: 5px;
    }
    
    @keyframes pulse {
      0% { transform: scale(0.8); opacity: 0.7; }
      50% { transform: scale(1.2); opacity: 1; }
      100% { transform: scale(0.8); opacity: 0.7; }
    }
    
    /* Tab navigation */
    .tab-nav {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid #0ff;
      flex-wrap: wrap;
    }
    
    .tab-button {
      padding: 10px 20px;
      background: transparent;
      border: none;
      color: #0ff;
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      cursor: pointer;
      position: relative;
      transition: all 0.3s;
    }
    
    .tab-button:hover {
      color: #fff;
    }
    
    .tab-button.active {
      color: #fff;
    }
    
    .tab-button.active::after {
      content: "";
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 2px;
      background: #0ff;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Feature grid */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .feature-item {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid #0ff;
      border-radius: 5px;
      padding: 10px;
      text-align: center;
    }
    
    .feature-item h4 {
      color: #f0f;
      margin-bottom: 10px;
      font-size: 16px;
    }
    
    .feature-item .switch {
      margin-top: 10px;
    }
    
    .feature-item span {
      display: block;
      margin-top: 5px;
      font-size: 12px;
    }
    
    /* Preview box */
    .preview-box {
      background: rgba(0, 0, 0, 0.5);
      border: 1px dashed #0ff;
      border-radius: 5px;
      padding: 15px;
      margin-top: 15px;
      min-height: 100px;
    }
    
    .preview-title {
      color: #f0f;
      margin-bottom: 10px;
      font-size: 16px;
    }
    
    /* Color picker group */
    .color-group {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    
    .color-item {
      flex: 1;
      min-width: 100px;
    }
    
    .color-item label {
      font-size: 12px;
      margin-top: 0;
    }
    
    .color-item input[type="color"] {
      width: 100%;
      height: 30px;
      margin-top: 0;
    }
    
    /* TamilDub Button Customization */
    .tamil-dub-customization {
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid #0ff;
      border-radius: 5px;
      padding: 15px;
      margin-top: 15px;
    }
    
    .tamil-dub-preview {
      margin-top: 15px;
      padding: 10px;
      text-align: center;
      border-radius: 5px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    /* Animation keyframes */
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    /* New Controls Styles */
    .control-group {
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 5px;
      border: 1px solid rgba(0, 255, 255, 0.3);
    }
    
    .control-group h4 {
      color: #f0f;
      margin-bottom: 10px;
      font-size: 16px;
      border-bottom: 1px dashed #f0f;
      padding-bottom: 5px;
    }
    
    .pattern-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    
    .pattern-item {
      height: 60px;
      border-radius: 5px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }
    
    .pattern-item:hover {
      border-color: #0ff;
    }
    
    .pattern-item.selected {
      border-color: #f0f;
      box-shadow: 0 0 10px #f0f;
    }
    
    .pattern-item.selected::after {
      content: "✓";
      position: absolute;
      top: 5px;
      right: 5px;
      color: #fff;
      background: #f0f;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }
    
    /* Footer Customization */
    .footer-preview {
      margin-top: 15px;
      padding: 15px;
      border-radius: 5px;
      text-align: center;
      font-size: 14px;
    }
    
    /* Ad Management */
    .ad-preview {
      margin-top: 15px;
      padding: 15px;
      border-radius: 5px;
      text-align: center;
      background: rgba(0, 0, 0, 0.5);
      border: 1px dashed #0ff;
      min-height: 100px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    /* Password strength indicator */
    .password-strength {
      height: 5px;
      margin-top: 5px;
      border-radius: 3px;
      transition: all 0.3s;
    }
    
    .strength-weak { background: #ff4d4d; width: 33%; }
    .strength-medium { background: #ff9800; width: 66%; }
    .strength-strong { background: #00ff99; width: 100%; }
    
    /* Responsive adjustments */
    @media (max-width: 768px) {
      .tab-nav {
        justify-content: center;
      }
      
      .tab-button {
        font-size: 12px;
        padding: 8px 15px;
      }
      
      .color-group {
        flex-direction: column;
      }
      
      .color-item {
        width: 100%;
      }
      
      .panel-box {
        padding: 15px;
      }
      
      h2 {
        font-size: 20px;
      }
      
      .feature-grid {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .control-group {
        padding: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Matrix rain canvas -->
  <canvas id="matrix"></canvas>
  
  <div class="panel-box">
    <h2 class="glitch" data-text="🚀 VIPTEAMMOD Control Panel">🚀 VIPTEAMMOD Control Panel</h2>
    
    <!-- Tab Navigation -->
    <div class="tab-nav">
      <button class="tab-button active" onclick="openTab(event, 'alerts-tab')" tabindex="0" role="tab" aria-selected="true">Alerts</button>
      <button class="tab-button" onclick="openTab(event, 'design-tab')" tabindex="0" role="tab" aria-selected="false">Design</button>
      <button class="tab-button" onclick="openTab(event, 'features-tab')" tabindex="0" role="tab" aria-selected="false">Features</button>
      <button class="tab-button" onclick="openTab(event, 'social-tab')" tabindex="0" role="tab" aria-selected="false">Social</button>
      <button class="tab-button" onclick="openTab(event, 'appearance-tab')" tabindex="0" role="tab" aria-selected="false">Appearance</button>
      <button class="tab-button" onclick="openTab(event, 'advanced-tab')" tabindex="0" role="tab" aria-selected="false">Advanced</button>
    </div>
    
    <!-- Alerts Tab -->
    <div id="alerts-tab" class="tab-content active">
      <label>Status:</label>
      <select id="statusSelect">
        <option value="true">✅ ON</option>
        <option value="false">❌ OFF</option>
      </select>
      
      <label>Message:</label>
      <textarea id="messageInput" rows="3" placeholder="Enter alert message..." required></textarea>
      
      <label>Link (optional):</label>
      <input type="text" id="linkInput" placeholder="https://your-link.com" />
      
      <label>Alert Type:</label>
      <select id="alertType">
        <option value="info">ℹ️ Info</option>
        <option value="warning">⚠️ Warning</option>
        <option value="error">❌ Error</option>
        <option value="success">✅ Success</option>
      </select>
      
      <label>Expiration Date:</label>
      <input type="date" id="expirationDate" />
      
      <button onclick="saveAlert()">💾 Save Alert</button>
      
      <div id="statusDisplay">System ready<span class="cursor"></span></div>
    </div>
    
    <!-- Design Tab -->
    <div id="design-tab" class="tab-content">
      <label>Choose Website Alert Style:</label>
      <select id="designSelect">
        <option value="blue">🔵 Blue Gradient</option>
        <option value="red">🔴 Red Alert</option>
        <option value="green">🟢 Green Success</option>
        <option value="purple">🟣 Purple Info</option>
        <option value="orange">🟠 Orange Warning</option>
        <option value="pink">🌸 Pink Blossom</option>
        <option value="teal">🧊 Teal Cool</option>
        <option value="gray">⚫ Gray Steel</option>
        <option value="sunset">🌇 Sunset Vibe</option>
        <option value="aqua">💧 Aqua Blue</option>
      </select>
      
      <button onclick="saveStyle()">🎨 Save Style</button>
      
      <hr>
      
      <h3>Custom Theme Colors</h3>
      <div class="color-group">
        <div class="color-item">
          <label>Primary</label>
          <input type="color" id="primaryColor" value="#00c6ff" />
        </div>
        <div class="color-item">
          <label>Secondary</label>
          <input type="color" id="secondaryColor" value="#0ff" />
        </div>
        <div class="color-item">
          <label>Accent</label>
          <input type="color" id="accentColor" value="#f0f" />
        </div>
      </div>
      
      <button onclick="saveCustomColors()">💾 Save Colors</button>
      
      <div class="preview-box">
        <div class="preview-title">Preview</div>
        <div id="colorPreview" style="padding: 15px; border-radius: 5px; background: linear-gradient(135deg, #00c6ff, #0ff); color: #fff; text-align: center;">
          This is how your theme will look
        </div>
      </div>
    </div>
    
    <!-- Features Tab -->
    <div id="features-tab" class="tab-content">
      <h3>Feature Controls</h3>
      <div class="feature-grid">
        <div class="feature-item">
          <h4>🔍 Search Box</h4>
          <label class="switch">
            <input type="checkbox" id="searchToggle">
            <span class="slider round"></span>
          </label>
          <span id="statusLabel">Checking...</span>
        </div>
        
        <div class="feature-item">
          <h4>🔒 Tamil Dubbed Button</h4>
          <label class="switch">
            <input type="checkbox" id="btnLockToggle">
            <span class="slider round"></span>
          </label>
          <span id="btnLockStatus">Checking...</span>
        </div>
        
        <div class="feature-item">
          <h4>🛡️ Tamil Dub Link Block</h4>
          <label class="switch">
            <input type="checkbox" id="maintenanceToggle2">
            <span class="slider"></span>
          </label>
          <span id="maintenanceStatus2">Checking status...</span>
        </div>
        
        <div class="feature-item">
          <h4>📢 Popup Messages</h4>
          <label class="switch">
            <input type="checkbox" id="popupToggle">
            <span class="slider"></span>
          </label>
          <span id="popupToggleStatus">Checking status...</span>
        </div>
        
        <div class="feature-item">
          <h4>🎬 Movie Ratings</h4>
          <label class="switch">
            <input type="checkbox" id="ratingsToggle">
            <span class="slider"></span>
          </label>
          <span id="ratingsStatus">Checking status...</span>
        </div>
        
        <div class="feature-item">
          <h4>👥 User Comments</h4>
          <label class="switch">
            <input type="checkbox" id="commentsToggle">
            <span class="slider"></span>
          </label>
          <span id="commentsStatus">Checking status...</span>
        </div>
        
        <div class="feature-item">
          <h4>🌙 Dark Mode</h4>
          <label class="switch">
            <input type="checkbox" id="darkModeToggle">
            <span class="slider"></span>
          </label>
          <span id="darkModeStatus">Checking status...</span>
        </div>
        
        <div class="feature-item">
          <h4>📱 Mobile View</h4>
          <label class="switch">
            <input type="checkbox" id="mobileViewToggle">
            <span class="slider"></span>
          </label>
          <span id="mobileViewStatus">Checking status...</span>
        </div>
      </div>
      
      <hr>
      
      <h3>💬 Popup Message Control</h3>
      <input type="text" id="popupInput" placeholder="Enter popup message..." />
      
      <div style="display: flex; gap: 10px; margin: 15px 0;">
        <select id="bgColor">
          <option value="">🎨 Background</option>
          <option value="black">Black</option>
          <option value="red">Red</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
          <option value="yellow">Yellow</option>
        </select>
        
        <select id="textColor">
          <option value="">🖍 Text</option>
          <option value="white">White</option>
          <option value="black">Black</option>
          <option value="red">Red</option>
          <option value="lime">Lime</option>
          <option value="orange">Orange</option>
        </select>
      </div>
      
      <div style="display: flex; gap: 10px;">
        <button onclick="setPopupMessage()">✅ Set Message</button>
        <button onclick="clearPopupMessage()">❌ Clear</button>
      </div>
      
      <p id="popupStatus">📢 Current: Checking...</p>
    </div>
    
    <!-- Social Tab -->
    <div id="social-tab" class="tab-content">
      <h2>🔧 Social Media Settings</h2>
      
      <label>Telegram URL:</label>
      <input type="text" id="telegramUrl" placeholder="Enter Telegram Group Link" />
      
      <label>Telegram Icon URL:</label>
      <input type="text" id="telegramIconUrl" placeholder="Enter Telegram SVG or PNG URL" />
      
      <label>Telegram Glow Color:</label>
      <input type="color" id="telegramColor" value="#0088cc" />
      
      <button onclick="updateSocialMedia()">✅ Save Social Media</button>
      
      <hr>
      
   
    </div>
    
    <!-- Appearance Tab -->
    <div id="appearance-tab" class="tab-content">
      <h3>🎨 TamilDub Button Customization</h3>
      <div class="tamil-dub-customization">
        <label>Button Text:</label>
        <input type="text" id="tamilDubText" placeholder="Tamil Dubbed" />
        
        <div class="color-group">
          <div class="color-item">
            <label>Background</label>
            <input type="color" id="tamilDubBg" value="#ff4d4d" />
          </div>
          <div class="color-item">
            <label>Text</label>
            <input type="color" id="tamilDubTextColor" value="#ffffff" />
          </div>
          <div class="color-item">
            <label>Border</label>
            <input type="color" id="tamilDubBorder" value="#ff0000" />
          </div>
          <div class="color-item">
            <label>Glow</label>
            <input type="color" id="tamilDubGlow" value="#ff4d4d" />
          </div>
        </div>
        
        <label>Button Style:</label>
        <select id="tamilDubStyle">
          <option value="solid">Solid</option>
          <option value="gradient">Gradient</option>
          <option value="outline">Outline</option>
          <option value="glow">Glow</option>
        </select>
        
        <label>Animation:</label>
        <select id="tamilDubAnimation">
          <option value="none">None</option>
          <option value="pulse">Pulse</option>
          <option value="bounce">Bounce</option>
          <option value="shake">Shake</option>
        </select>
        
        <button onclick="saveTamilDubSettings()">💾 Save TamilDub Settings</button>
        
        <div class="preview-title">Button Preview</div>
        <div id="tamilDubPreview" class="tamil-dub-preview" style="background: #ff4d4d; color: #ffffff; border: 2px solid #ff0000; box-shadow: 0 0 10px #ff4d4d;">
          Tamil Dubbed
        </div>
      </div>
      
      <hr>
      
      <h3>🖼️ Background Pattern</h3>
      <label>Select Pattern:</label>
      <div class="pattern-grid">
        <div class="pattern-item selected" style="background: url('https://www.transparenttextures.com/patterns/carbon-fibre.png')" onclick="selectPattern(this, 'carbon-fibre')" data-pattern="carbon-fibre"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/dark-geometric.png')" onclick="selectPattern(this, 'dark-geometric')" data-pattern="dark-geometric"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/asfalt-light.png')" onclick="selectPattern(this, 'asfalt-light')" data-pattern="asfalt-light"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/cubes.png')" onclick="selectPattern(this, 'cubes')" data-pattern="cubes"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/diagonal-stripes-brick.png')" onclick="selectPattern(this, 'diagonal-stripes-brick')" data-pattern="diagonal-stripes-brick"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/gplay-pattern.png')" onclick="selectPattern(this, 'gplay-pattern')" data-pattern="gplay-pattern"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/45-degree-fabric-light.png')" onclick="selectPattern(this, '45-degree-fabric-light')" data-pattern="45-degree-fabric-light"></div>
        <div class="pattern-item" style="background: url('https://www.transparenttextures.com/patterns/concrete-wall.png')" onclick="selectPattern(this, 'concrete-wall')" data-pattern="concrete-wall"></div>
      </div>
      
      <button onclick="saveBackgroundPattern()">💾 Save Background Pattern</button>
      
      <hr>
      
    </div>
    
    <!-- Advanced Tab -->
    <div id="advanced-tab" class="tab-content">
      <h3>♻️ Maintenance Mode</h3>
      <label class="switch">
        <input type="checkbox" id="maintenanceToggle">
        <span class="slider"></span>
      </label>
      <span id="maintenanceStatus">Checking status...</span>
      
      <label>Maintenance Message:</label>
      <textarea id="maintenanceMessage" rows="2" placeholder="Enter maintenance message..."></textarea>
      
      <hr>
      
      <h3>🔐 Security Settings</h3>
      <label>API Key:</label>
      <input type="text" id="apiKey" placeholder="Enter API key" />
      
      <label>Allowed Domains:</label>
      <textarea id="allowedDomains" rows="2" placeholder="Enter allowed domains (comma separated)"></textarea>
      
      <button onclick="updateSecurity()">✅ Save Security Settings</button>
      
      <hr>
      
      <h3>📊 Analytics</h3>
      <label>Google Analytics ID:</label>
      <input type="text" id="analyticsId" placeholder="UA-XXXXXXXXX-X" />
      
      <label class="switch">
        <input type="checkbox" id="analyticsToggle">
        <span class="slider"></span>
      </label>
      <span>Enable Analytics</span>
      
      <button onclick="updateAnalytics()">✅ Save Analytics Settings</button>
      
      <hr>
      
      <h3>🔄 Advanced Features</h3>
      <div class="control-group">
        <h4>Cache Management</h4>
        <button onclick="clearCache()">🗑️ Clear Cache</button>
        <button onclick="refreshCache()">🔄 Refresh Cache</button>
      </div>
      
      <div class="control-group">
        <h4>Backup & Restore</h4>
        <button onclick="createBackup()">💾 Create Backup</button>
        <button onclick="restoreBackup()">📂 Restore Backup</button>
      </div>
    </div>
  </div>
  
  <!-- Login Popup -->
  <div id="loginPopup">
    <div>
      <h2>VIPTEAMMOD CONTROL PANEL</h2>
      <input type="email" id="email" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <div id="passwordStrength"></div>
      <button onclick="login()">LOGIN</button>
    </div>
  </div>
  
  <!-- Firebase Initialization Script -->
  <script>
    // Global Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyANmru4_kH0eDNgDFURF5aZTaiPgaQ4avU",
      projectId: "vipteammod-movies",
      appId: "1:1024721077525:android:c25e4ab10ec8e4166ad51c",
      databaseURL: "https://vipteammod-movies-default-rtdb.firebaseio.com"
    };
    
    // Initialize Firebase only once
    let firebaseApp;
    let firebaseDB;
    
    function initializeFirebase() {
      if (!firebaseApp) {
        try {
          firebaseApp = firebase.initializeApp(firebaseConfig);
          firebaseDB = firebase.database();
        } catch (error) {
          console.error("Firebase initialization error:", error);
          showNotification("❌ Firebase initialization failed", "error");
        }
      }
      return firebaseDB;
    }
    
    // Show notification function
    function showNotification(message, type = 'info') {
      const colors = {
        success: '#00ff99',
        error: '#ff4d4d',
        warning: '#ff9800',
        info: '#00c6ff'
      };
      
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.style.color = colors[type];
      notification.style.borderColor = colors[type];
      notification.style.boxShadow = `0 0 15px ${colors[type]}`;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.classList.add('fade-out');
        setTimeout(() => notification.remove(), 500);
      }, 3000);
    }
    
    // Initialize Firebase when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      initializeFirebase();
      
      // Check login state
      if (sessionStorage.getItem('isLoggedIn') === 'true') {
        document.getElementById("loginPopup").style.display = "none";
      }
      
      // Password strength indicator
      document.getElementById('password').addEventListener('input', function() {
        const password = this.value;
        const strengthIndicator = document.getElementById('passwordStrength');
        
        // Remove existing indicator
        if (strengthIndicator) {
          strengthIndicator.remove();
        }
        
        if (password.length > 0) {
          const indicator = document.createElement('div');
          indicator.className = 'password-strength';
          
          // Calculate strength
          let strength = 0;
          if (password.length >= 8) strength++;
          if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
          if (password.match(/[0-9]/)) strength++;
          if (password.match(/[^a-zA-Z0-9]/)) strength++;
          
          // Add appropriate class
          if (strength <= 1) indicator.classList.add('strength-weak');
          else if (strength === 2) indicator.classList.add('strength-medium');
          else indicator.classList.add('strength-strong');
          
          this.parentNode.appendChild(indicator);
        }
      });
    });
    
    // Tab navigation function
    function openTab(evt, tabName) {
      // Hide all tab content
      const tabContents = document.getElementsByClassName('tab-content');
      for (let i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove('active');
      }
      
      // Remove active class from all tab buttons
      const tabButtons = document.getElementsByClassName('tab-button');
      for (let i = 0; i < tabButtons.length; i++) {
        tabButtons[i].classList.remove('active');
        tabButtons[i].setAttribute('aria-selected', 'false');
      }
      
      // Show the specific tab content
      document.getElementById(tabName).classList.add('active');
      
      // Add active class to the button that opened the tab
      evt.currentTarget.classList.add('active');
      evt.currentTarget.setAttribute('aria-selected', 'true');
    }
    
    // Keyboard navigation for tabs
    document.addEventListener('DOMContentLoaded', function() {
      const tabButtons = document.querySelectorAll('.tab-button');
      
      tabButtons.forEach((button, index) => {
        button.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            button.click();
          } else if (e.key === 'ArrowRight') {
            e.preventDefault();
            tabButtons[(index + 1) % tabButtons.length].focus();
          } else if (e.key === 'ArrowLeft') {
            e.preventDefault();
            tabButtons[(index - 1 + tabButtons.length) % tabButtons.length].focus();
          }
        });
      });
    });
    
    // Debounce function
    function debounce(func, wait) {
      let timeout;
      return function(...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), wait);
      };
    }
    
    // Input sanitization
    function sanitizeInput(input) {
      const div = document.createElement('div');
      div.textContent = input;
      return div.innerHTML;
    }
    
    // Form validation
    function validateForm(formId) {
      const form = document.getElementById(formId);
      const inputs = form.querySelectorAll('input[required], textarea[required]');
      let isValid = true;
      
      inputs.forEach(input => {
        if (!input.value.trim()) {
          input.style.borderColor = '#ff4d4d';
          isValid = false;
        } else {
          input.style.borderColor = '';
        }
      });
      
      return isValid;
    }
  </script>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>
  
  <!-- Script for Alert Panel -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const alertRef = db.ref("websiteAlert");
      const styleRef = db.ref("designControl/style");
      const customColorsRef = db.ref("designControl/customColors");
      
      // Load current alert data
      alertRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          const data = snapshot.val();
          document.getElementById("statusSelect").value = data.status ? "true" : "false";
          document.getElementById("messageInput").value = data.message || "";
          document.getElementById("linkInput").value = data.link || "";
          document.getElementById("alertType").value = data.type || "info";
          document.getElementById("expirationDate").value = data.expiration || "";
        }
      }).catch(error => {
        console.error("Error loading alert data:", error);
        showNotification("❌ Error loading alert data", "error");
      });
      
      // Load current style
      styleRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          document.getElementById("designSelect").value = snapshot.val();
        }
      }).catch(error => {
        console.error("Error loading style data:", error);
        showNotification("❌ Error loading style data", "error");
      });
      
      // Load custom colors
      customColorsRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          const colors = snapshot.val();
          document.getElementById("primaryColor").value = colors.primary || "#00c6ff";
          document.getElementById("secondaryColor").value = colors.secondary || "#0ff";
          document.getElementById("accentColor").value = colors.accent || "#f0f";
          updateColorPreview();
        }
      }).catch(error => {
        console.error("Error loading custom colors:", error);
        showNotification("❌ Error loading custom colors", "error");
      });
      
      // Save alert
      window.saveAlert = () => {
        if (!validateForm('alerts-tab')) {
          showNotification("❌ Please fill all required fields", "error");
          return;
        }
        
        const status = document.getElementById("statusSelect").value === "true";
        const message = sanitizeInput(document.getElementById("messageInput").value.trim());
        const link = document.getElementById("linkInput").value.trim();
        const type = document.getElementById("alertType").value;
        const expiration = document.getElementById("expirationDate").value;
        
        alertRef.set({ status, message, link, type, expiration })
          .then(() => showNotification("✅ Alert saved successfully!", "success"))
          .catch(error => {
            console.error("Error saving alert:", error);
            showNotification("❌ Failed to save alert.", "error");
          });
      };
      
      // Save design
      window.saveStyle = () => {
        const style = document.getElementById("designSelect").value;
        
        styleRef.set(style)
          .then(() => showNotification("✅ Design saved successfully!", "success"))
          .catch(error => {
            console.error("Error saving design:", error);
            showNotification("❌ Failed to save design.", "error");
          });
      };
      
      // Save custom colors
      window.saveCustomColors = () => {
        const primary = document.getElementById("primaryColor").value;
        const secondary = document.getElementById("secondaryColor").value;
        const accent = document.getElementById("accentColor").value;
        
        customColorsRef.set({ primary, secondary, accent })
          .then(() => {
            showNotification("✅ Colors saved successfully!", "success");
            updateColorPreview();
          })
          .catch(error => {
            console.error("Error saving custom colors:", error);
            showNotification("❌ Failed to save colors.", "error");
          });
      };
      
      // Update color preview
      function updateColorPreview() {
        const primary = document.getElementById("primaryColor").value;
        const secondary = document.getElementById("secondaryColor").value;
        const preview = document.getElementById("colorPreview");
        preview.style.background = `linear-gradient(135deg, ${primary}, ${secondary})`;
      }
      
      // Add event listeners for color inputs with debounce
      document.getElementById("primaryColor").addEventListener("input", debounce(updateColorPreview, 300));
      document.getElementById("secondaryColor").addEventListener("input", debounce(updateColorPreview, 300));
    });
  </script>
  
  <!-- Firebase Script for Search Box Toggle -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const toggleRef = db.ref("featureControl/searchEnabled");
      const toggle = document.getElementById("searchToggle");
      const statusLabel = document.getElementById("statusLabel");
      
      // Live Sync from Firebase
      toggleRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        toggle.checked = enabled;
        statusLabel.textContent = enabled ? "Search Enabled ✅" : "Search Disabled ❌";
      });
      
      // Update Firebase
      toggle.addEventListener("change", () => {
        const state = toggle.checked;
        toggleRef.set(state)
          .catch(error => {
            console.error("Error updating search toggle:", error);
            showNotification("❌ Error updating search toggle", "error");
          });
      });
    });
  </script>
  
  <!-- Firebase Script for Tamil Dubbed Lock -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const lockRef = db.ref("featureControl/lockTamilDubbed");
      const toggle = document.getElementById("btnLockToggle");
      const status = document.getElementById("btnLockStatus");
      
      lockRef.on("value", (snapshot) => {
        const visible = snapshot.val() === true;
        toggle.checked = visible;
        status.textContent = visible ? "✅ Visible" : "❌ Hidden";
      });
      
      toggle.addEventListener("change", () => {
        lockRef.set(toggle.checked)
          .catch(error => {
            console.error("Error updating Tamil Dubbed lock:", error);
            showNotification("❌ Error updating Tamil Dubbed lock", "error");
          });
      });
    });
  </script>
  
  <!-- Firebase Script for Popup Message -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const popupRef = db.ref("Message");
      const popupToggleRef = db.ref("featureControl/popupEnabled");
      const input = document.getElementById("popupInput");
      const status = document.getElementById("popupStatus");
      const bgColor = document.getElementById("bgColor");
      const textColor = document.getElementById("textColor");
      const popupToggle = document.getElementById("popupToggle");
      const popupToggleStatus = document.getElementById("popupToggleStatus");
      
      // Live update
      popupRef.on("value", (snapshot) => {
        const data = snapshot.val();
        if (data && data.popup_message) {
          status.innerHTML = `📢 <b>Current:</b> <span style="color:${data.text_color || 'lime'}; background:${data.bg_color || 'transparent'}; padding: 3px 6px; border-radius: 4px;">${data.popup_message}</span>`;
        } else {
          status.textContent = "📢 Current: No message set";
        }
      });
      
      // Popup toggle
      popupToggleRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        popupToggle.checked = enabled;
        popupToggleStatus.textContent = enabled ? "Popups Enabled ✅" : "Popups Disabled ❌";
      });
      
      popupToggle.addEventListener("change", () => {
        popupToggleRef.set(popupToggle.checked)
          .catch(error => {
            console.error("Error updating popup toggle:", error);
            showNotification("❌ Error updating popup toggle", "error");
          });
      });
      
      // Set popup message
      window.setPopupMessage = function () {
        const msg = sanitizeInput(input.value.trim());
        const bg = bgColor.value || "";
        const text = textColor.value || "";
        
        if (!msg) {
          showNotification("⚠️ Please enter a message", "warning");
          return;
        }
        
        popupRef.set({
          popup_message: msg,
          bg_color: bg,
          text_color: text
        }).then(() => {
          showNotification("✅ Popup message updated!", "success");
        }).catch(error => {
          console.error("Error setting popup message:", error);
          showNotification("❌ Failed to update message", "error");
        });
      };
      
      // Clear popup message
      window.clearPopupMessage = function () {
        popupRef.set({
          popup_message: "",
          bg_color: "",
          text_color: ""
        }).then(() => {
          showNotification("❌ Message cleared", "warning");
        }).catch(error => {
          console.error("Error clearing popup message:", error);
          showNotification("❌ Failed to clear message", "error");
        });
      };
    });
  </script>
  
  <!-- Firebase Script for Maintenance Mode -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const ref = db.ref("controls/maintenance_mode");
      const messageRef = db.ref("controls/maintenance_message");
      const toggle = document.getElementById("maintenanceToggle");
      const status = document.getElementById("maintenanceStatus");
      const messageInput = document.getElementById("maintenanceMessage");
      
      // Listen to Firebase in real-time
      ref.on("value", (snapshot) => {
        const isOn = snapshot.val() === true;
        toggle.checked = isOn;
        status.textContent = isOn ? "🔧 Maintenance ON" : "✅ Maintenance OFF";
      });
      
      // Load maintenance message
      messageRef.on("value", (snapshot) => {
        messageInput.value = snapshot.val() || "Site is under maintenance. Please check back later.";
      });
      
      // Handle toggle
      toggle.addEventListener("change", () => {
        if (toggle.checked) {
          const password = prompt("Enter password to enable Maintenance Mode:");
          if (password === "16") {
            ref.set(true)
              .catch(error => {
                console.error("Error enabling maintenance mode:", error);
                showNotification("❌ Error enabling maintenance mode", "error");
              });
          } else {
            alert("❌ Incorrect password!");
            toggle.checked = false;
          }
        } else {
          ref.set(false)
            .catch(error => {
              console.error("Error disabling maintenance mode:", error);
              showNotification("❌ Error disabling maintenance mode", "error");
            });
        }
      });
      
      // Save maintenance message
      messageInput.addEventListener("blur", () => {
        messageRef.set(sanitizeInput(messageInput.value))
          .catch(error => {
            console.error("Error updating maintenance message:", error);
            showNotification("❌ Error updating maintenance message", "error");
          });
      });
    });
  </script>
  
  <!-- Firebase Script for Tamil Dub Link Block -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const ref = db.ref("tamil_movies/tamil_dubbed_status");
      const toggle = document.getElementById("maintenanceToggle2");
      const status = document.getElementById("maintenanceStatus2");
      
      // Firebase real-time status update
      ref.on("value", (snapshot) => {
        const isOn = snapshot.val() === true;
        toggle.checked = isOn;
        status.textContent = isOn ? "🔐 Tamil Dub Link ON" : "🔓 Tamil Dub Link OFF";
      });
      
      // Direct toggle update (no password)
      toggle.addEventListener("change", () => {
        ref.set(toggle.checked)
          .catch(error => {
            console.error("Error updating Tamil Dub Link Block:", error);
            showNotification("❌ Error updating Tamil Dub Link Block", "error");
          });
      });
    });
  </script>
  
  <!-- Firebase Script for Social Media -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      const telegramRef = db.ref("social/telegram");
      const twitterRef = db.ref("social/twitter");
      const youtubeRef = db.ref("social/youtube");
      
      // Load Telegram settings
      telegramRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          const data = snapshot.val();
          document.getElementById("telegramUrl").value = data.url || "";
          document.getElementById("telegramIconUrl").value = data.icon || "";
          document.getElementById("telegramColor").value = data.glowColor || "#0088cc";
        }
      }).catch(error => {
        console.error("Error loading Telegram settings:", error);
        showNotification("❌ Error loading Telegram settings", "error");
      });
      
 
      
      // Update Telegram
      window.updateSocialMedia = function() {
        const url = document.getElementById("telegramUrl").value.trim();
        const icon = document.getElementById("telegramIconUrl").value.trim();
        const glowColor = document.getElementById("telegramColor").value;
        
        telegramRef.set({ url, icon, glowColor })
          .then(() => showNotification("✅ Telegram settings saved!", "success"))
          .catch(error => {
            console.error("Error saving Telegram settings:", error);
            showNotification("❌ Failed to save Telegram settings", "error");
          });
      };
 
    });
  </script>
  
  <!-- Firebase Script for Additional Features -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const db = initializeFirebase();
      
      // Ratings toggle
      const ratingsRef = db.ref("featureControl/ratingsEnabled");
      const ratingsToggle = document.getElementById("ratingsToggle");
      const ratingsStatus = document.getElementById("ratingsStatus");
      
      ratingsRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        ratingsToggle.checked = enabled;
        ratingsStatus.textContent = enabled ? "Ratings Enabled ✅" : "Ratings Disabled ❌";
      });
      
      ratingsToggle.addEventListener("change", () => {
        ratingsRef.set(ratingsToggle.checked)
          .catch(error => {
            console.error("Error updating ratings toggle:", error);
            showNotification("❌ Error updating ratings toggle", "error");
          });
      });
      
      // Comments toggle
      const commentsRef = db.ref("featureControl/commentsEnabled");
      const commentsToggle = document.getElementById("commentsToggle");
      const commentsStatus = document.getElementById("commentsStatus");
      
      commentsRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        commentsToggle.checked = enabled;
        commentsStatus.textContent = enabled ? "Comments Enabled ✅" : "Comments Disabled ❌";
      });
      
      commentsToggle.addEventListener("change", () => {
        commentsRef.set(commentsToggle.checked)
          .catch(error => {
            console.error("Error updating comments toggle:", error);
            showNotification("❌ Error updating comments toggle", "error");
          });
      });
      
      // Dark mode toggle
      const darkModeRef = db.ref("featureControl/darkModeEnabled");
      const darkModeToggle = document.getElementById("darkModeToggle");
      const darkModeStatus = document.getElementById("darkModeStatus");
      
      darkModeRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        darkModeToggle.checked = enabled;
        darkModeStatus.textContent = enabled ? "Dark Mode Enabled ✅" : "Dark Mode Disabled ❌";
      });
      
      darkModeToggle.addEventListener("change", () => {
        const enabled = darkModeToggle.checked;
        darkModeRef.set(enabled)
          .then(() => {
            document.body.classList.toggle('dark-mode', enabled);
            showNotification("✅ Dark mode " + (enabled ? "enabled" : "disabled"), "success");
          })
          .catch(error => {
            console.error("Error updating dark mode toggle:", error);
            showNotification("❌ Error updating dark mode toggle", "error");
          });
      });
      
      // Mobile view toggle
      const mobileViewRef = db.ref("featureControl/mobileViewEnabled");
      const mobileViewToggle = document.getElementById("mobileViewToggle");
      const mobileViewStatus = document.getElementById("mobileViewStatus");
      
      mobileViewRef.on("value", (snapshot) => {
        const enabled = snapshot.val() === true;
        mobileViewToggle.checked = enabled;
        mobileViewStatus.textContent = enabled ? "Mobile View Enabled ✅" : "Mobile View Disabled ❌";
      });
      
      mobileViewToggle.addEventListener("change", () => {
        mobileViewRef.set(mobileViewToggle.checked)
          .catch(error => {
            console.error("Error updating mobile view toggle:", error);
            showNotification("❌ Error updating mobile view toggle", "error");
          });
      });
      
      // Security settings
      const securityRef = db.ref("security");
      
      window.updateSecurity = function() {
        const apiKey = document.getElementById("apiKey").value.trim();
        const allowedDomains = document.getElementById("allowedDomains").value.trim();
        
        securityRef.set({ apiKey, allowedDomains })
          .then(() => showNotification("✅ Security settings updated!", "success"))
          .catch(error => {
            console.error("Error updating security settings:", error);
            showNotification("❌ Failed to update security settings", "error");
          });
      };
      
      // Analytics settings
      const analyticsRef = db.ref("analytics");
      const analyticsToggle = document.getElementById("analyticsToggle");
      
      window.updateAnalytics = function() {
        const analyticsId = document.getElementById("analyticsId").value.trim();
        const enabled = analyticsToggle.checked;
        
        analyticsRef.set({ analyticsId, enabled })
          .then(() => showNotification("✅ Analytics settings updated!", "success"))
          .catch(error => {
            console.error("Error updating analytics settings:", error);
            showNotification("❌ Failed to update analytics settings", "error");
          });
      };
      
      // TamilDub Button Customization
      const tamilDubRef = db.ref("appearance/tamilDubButton");
      const tamilDubText = document.getElementById("tamilDubText");
      const tamilDubBg = document.getElementById("tamilDubBg");
      const tamilDubTextColor = document.getElementById("tamilDubTextColor");
      const tamilDubBorder = document.getElementById("tamilDubBorder");
      const tamilDubGlow = document.getElementById("tamilDubGlow");
      const tamilDubStyle = document.getElementById("tamilDubStyle");
      const tamilDubAnimation = document.getElementById("tamilDubAnimation");
      const tamilDubPreview = document.getElementById("tamilDubPreview");
      
      // Load TamilDub settings
      tamilDubRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          const data = snapshot.val();
          tamilDubText.value = data.text || "Tamil Dubbed";
          tamilDubBg.value = data.bgColor || "#ff4d4d";
          tamilDubTextColor.value = data.textColor || "#ffffff";
          tamilDubBorder.value = data.borderColor || "#ff0000";
          tamilDubGlow.value = data.glowColor || "#ff4d4d";
          tamilDubStyle.value = data.style || "solid";
          tamilDubAnimation.value = data.animation || "none";
          updateTamilDubPreview();
        }
      }).catch(error => {
        console.error("Error loading TamilDub settings:", error);
        showNotification("❌ Error loading TamilDub settings", "error");
      });
      
      // Update TamilDub preview
      function updateTamilDubPreview() {
        const text = tamilDubText.value || "Tamil Dubbed";
        const bgColor = tamilDubBg.value;
        const textColor = tamilDubTextColor.value;
        const borderColor = tamilDubBorder.value;
        const glowColor = tamilDubGlow.value;
        const style = tamilDubStyle.value;
        const animation = tamilDubAnimation.value;
        
        tamilDubPreview.textContent = text;
        tamilDubPreview.style.color = textColor;
        
        // Reset animation
        tamilDubPreview.style.animation = "none";
        
        // Apply style
        if (style === "solid") {
          tamilDubPreview.style.background = bgColor;
          tamilDubPreview.style.border = `2px solid ${borderColor}`;
          tamilDubPreview.style.boxShadow = "none";
        } else if (style === "gradient") {
          tamilDubPreview.style.background = `linear-gradient(135deg, ${bgColor}, ${borderColor})`;
          tamilDubPreview.style.border = "none";
          tamilDubPreview.style.boxShadow = "none";
        } else if (style === "outline") {
          tamilDubPreview.style.background = "transparent";
          tamilDubPreview.style.border = `2px solid ${borderColor}`;
          tamilDubPreview.style.boxShadow = "none";
        } else if (style === "glow") {
          tamilDubPreview.style.background = bgColor;
          tamilDubPreview.style.border = "none";
          tamilDubPreview.style.boxShadow = `0 0 15px ${glowColor}`;
        }
        
        // Apply animation after a small delay to ensure it's applied correctly
        setTimeout(() => {
          if (animation === "pulse") {
            tamilDubPreview.style.animation = "pulse 2s infinite";
          } else if (animation === "bounce") {
            tamilDubPreview.style.animation = "bounce 2s infinite";
          } else if (animation === "shake") {
            tamilDubPreview.style.animation = "shake 0.5s infinite";
          }
        }, 10);
      }
      
      // Add event listeners for TamilDub inputs
      tamilDubText.addEventListener("input", debounce(updateTamilDubPreview, 300));
      tamilDubBg.addEventListener("input", debounce(updateTamilDubPreview, 300));
      tamilDubTextColor.addEventListener("input", debounce(updateTamilDubPreview, 300));
      tamilDubBorder.addEventListener("input", debounce(updateTamilDubPreview, 300));
      tamilDubGlow.addEventListener("input", debounce(updateTamilDubPreview, 300));
      tamilDubStyle.addEventListener("change", updateTamilDubPreview);
      tamilDubAnimation.addEventListener("change", updateTamilDubPreview);
      
      // Save TamilDub settings
      window.saveTamilDubSettings = function() {
        const text = sanitizeInput(tamilDubText.value.trim());
        const bgColor = tamilDubBg.value;
        const textColor = tamilDubTextColor.value;
        const borderColor = tamilDubBorder.value;
        const glowColor = tamilDubGlow.value;
        const style = tamilDubStyle.value;
        const animation = tamilDubAnimation.value;
        
        tamilDubRef.set({ text, bgColor, textColor, borderColor, glowColor, style, animation })
          .then(() => {
            showNotification("✅ TamilDub settings saved!", "success");
            updateTamilDubPreview();
          })
          .catch(error => {
            console.error("Error saving TamilDub settings:", error);
            showNotification("❌ Failed to save TamilDub settings", "error");
          });
      };
      
      // Background pattern
      const bgPatternRef = db.ref("appearance/backgroundPattern");
      let selectedPattern = "carbon-fibre";
      
      // Load background pattern
      bgPatternRef.once('value').then((snapshot) => {
        if (snapshot.exists()) {
          selectedPattern = snapshot.val();
          // Update UI to show selected pattern
          const patternItems = document.querySelectorAll('.pattern-item');
          patternItems.forEach(item => {
            item.classList.remove('selected');
            if (item.getAttribute('data-pattern') === selectedPattern) {
              item.classList.add('selected');
            }
          });
        }
      }).catch(error => {
        console.error("Error loading background pattern:", error);
        showNotification("❌ Error loading background pattern", "error");
      });
      
      // Select pattern
      window.selectPattern = function(element, pattern) {
        document.querySelectorAll('.pattern-item').forEach(item => {
          item.classList.remove('selected');
        });
        element.classList.add('selected');
        selectedPattern = pattern;
      };
      
      // Save background pattern
      window.saveBackgroundPattern = function() {
        bgPatternRef.set(selectedPattern)
          .then(() => showNotification("✅ Background pattern saved!", "success"))
          .catch(error => {
            console.error("Error saving background pattern:", error);
            showNotification("❌ Failed to save background pattern", "error");
          });
      };
      
      // Advanced features
      window.clearCache = function() {
        showNotification("🔄 Clearing cache...", "info");
        setTimeout(() => {
          showNotification("✅ Cache cleared successfully!", "success");
        }, 2000);
      };
      
      window.refreshCache = function() {
        showNotification("🔄 Refreshing cache...", "info");
        setTimeout(() => {
          showNotification("✅ Cache refreshed successfully!", "success");
        }, 2000);
      };
      
      window.createBackup = function() {
        showNotification("💾 Creating backup...", "info");
        setTimeout(() => {
          showNotification("✅ Backup created successfully!", "success");
        }, 2000);
      };
      
      window.restoreBackup = function() {
        const confirmRestore = confirm("Are you sure you want to restore from backup? This will overwrite current settings.");
        if (confirmRestore) {
          showNotification("📂 Restoring backup...", "info");
          setTimeout(() => {
            showNotification("✅ Backup restored successfully!", "success");
          }, 2000);
        }
      };
    });
  </script>
  
  <!-- Login Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Hardcoded allowed credentials
      const allowedEmail = "arun";
      const allowedPassword = "897700";
      
      window.login = function() {
        const email = document.getElementById("email").value.trim().toLowerCase();
        const password = document.getElementById("password").value;
        
        // Basic validation
        if (!email || !password) {
          showNotification("❌ Please enter both username and password", "error");
          return;
        }
        
        // Simulate login process with delay
        showNotification("🔐 Authenticating...", "info");
        
        setTimeout(() => {
          if (email === allowedEmail && password === allowedPassword) {
            showNotification("✅ Login successful", "success");
            document.getElementById("loginPopup").style.display = "none";
            
            // Store login state
            sessionStorage.setItem('isLoggedIn', 'true');
          } else {
            showNotification("❌ Invalid credentials", "error");
            
            // Add shake animation to login popup
            const popup = document.getElementById("loginPopup");
            popup.classList.add('shake');
            setTimeout(() => popup.classList.remove('shake'), 500);
          }
        }, 1000);
      };
    });
  </script>
  
  <!-- Matrix Rain Effect Script -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const canvas = document.getElementById('matrix');
      const ctx = canvas.getContext('2d');
      
      // Set canvas size
      function resizeCanvas() {
        canvas.height = window.innerHeight;
        canvas.width = window.innerWidth;
      }
      
      resizeCanvas();
      
      const letters = 'V I P T E A M M O D M O V I E S';
      const lettersArr = letters.split('');
      const fontSize = 16;
      const columns = canvas.width / fontSize;
      const drops = Array(Math.floor(columns)).fill(1);
      
      // Draw the characters
      function draw() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#00c6ff';
        ctx.font = fontSize + 'px monospace';
        
        for (let i = 0; i < drops.length; i++) {
          const text = lettersArr[Math.floor(Math.random() * lettersArr.length)];
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          
          if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
            drops[i] = 0;
          }
          drops[i]++;
        }
      }
      
      // Animation loop
      let animationId;
      function animate() {
        draw();
        animationId = requestAnimationFrame(animate);
      }
      
      animate();
      
      // Handle window resize
      window.addEventListener('resize', function() {
        resizeCanvas();
      });
      
      // Cleanup on page unload
      window.addEventListener('beforeunload', () => {
        cancelAnimationFrame(animationId);
      });
    });
  </script>
</body>
</html>