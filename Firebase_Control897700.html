<!DOCTYPE html>
<html>
<head>
  <title>üî• VIPTEAMMOD Alert + Design Panel</title>
  <meta charset="UTF-8" />
  <style>
    body {
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      min-height: 100vh;
      padding: 40px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      font-family: 'Segoe UI', sans-serif;
    }

    h2 {
      font-size: 24px;
      margin-bottom: 20px;
      color: #00ffff;
    }

    label {
      font-weight: bold;
      margin-top: 15px;
      display: block;
      font-size: 15px;
    }

    input[type="text"], textarea, select {
      width: 300px;
      padding: 10px;
      border: none;
      border-radius: 8px;
      margin-top: 5px;
      background: #ffffff10;
      color: #fff;
      font-size: 15px;
      outline: none;
    }

    button {
      margin-top: 25px;
      padding: 12px 24px;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      border: none;
      border-radius: 10px;
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background: linear-gradient(to right, #0072ff, #00c6ff);
    }

    #statusDisplay {
      margin-top: 15px;
      font-weight: bold;
      font-size: 15px;
      text-align: center;
    }

    .panel-box {
      background: rgba(255, 255, 255, 0.05);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      width: 100%;
      max-width: 400px;
    }

    hr {
      margin: 30px 0;
      width: 100%;
      border: 1px solid #ffffff30;
    }
  </style>
</head>
<body>
  <div class="panel-box">
    <h2>üöÄ VIPTEAMMOD Alert Panel</h2>

    <label>Status:</label>
    <select id="statusSelect">
      <option value="true">ON</option>
      <option value="false">OFF</option>
    </select>

    <label>Message:</label>
    <textarea id="messageInput" rows="3" placeholder="Enter alert message..."></textarea>

    <label>Link (optional):</label>
    <input type="text" id="linkInput" placeholder="https://your-link.com" />

    <button onclick="saveAlert()">üíæ Save Alert</button>

    <hr />

    <h2>üé® Design Style Selector</h2>
    <label>Choose Website Alert Style:</label>
    <select id="designSelect">
      <option value="blue">üîµ Blue Gradient</option>
      <option value="red">üî¥ Red Alert</option>
      <option value="green">üü¢ Green Success</option>
      <option value="purple">üü£ Purple Info</option>
      <option value="orange">üü† Orange Warning</option>
    </select>

    <button onclick="saveStyle()">üé® Save Style</button>
    <div id="statusDisplay"></div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
    import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyANmru4_kH0eDNgDFURF5aZTaiPgaQ4avU",
      projectId: "vipteammod-movies",
      appId: "1:1024721077525:android:c25e4ab10ec8e4166ad51c",
      databaseURL: "https://vipteammod-movies-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const alertRef = ref(db, "websiteAlert");
    const styleRef = ref(db, "designControl/style");

    // Load alert
    get(alertRef).then((snapshot) => {
      if (snapshot.exists()) {
        const data = snapshot.val();
        document.getElementById("statusSelect").value = data.status ? "true" : "false";
        document.getElementById("messageInput").value = data.message || "";
        document.getElementById("linkInput").value = data.link || "";
      }
    });

    // Load style
    get(styleRef).then((snapshot) => {
      if (snapshot.exists()) {
        document.getElementById("designSelect").value = snapshot.val();
      }
    });

    window.saveAlert = () => {
      const status = document.getElementById("statusSelect").value === "true";
      const message = document.getElementById("messageInput").value.trim();
      const link = document.getElementById("linkInput").value.trim();

      set(alertRef, {
        status,
        message,
        link
      }).then(() => {
        const msg = document.getElementById("statusDisplay");
        msg.innerText = "‚úÖ Alert saved successfully!";
        msg.style.color = "#00ff99";
      }).catch((err) => {
        const msg = document.getElementById("statusDisplay");
        msg.innerText = "‚ùå Error saving alert!";
        msg.style.color = "#ff8080";
        console.error(err);
      });
    };

    window.saveStyle = () => {
      const selectedStyle = document.getElementById("designSelect").value;
      set(styleRef, selectedStyle).then(() => {
        const msg = document.getElementById("statusDisplay");
        msg.innerText = "‚úÖ Design saved successfully!";
        msg.style.color = "#00ff99";
      }).catch((err) => {
        const msg = document.getElementById("statusDisplay");
        msg.innerText = "‚ùå Failed to save design.";
        msg.style.color = "#ff8080";
        console.error(err);
      });
    };
  </script>
  
<!-- Search Box Toggle -->
<h3 style="color:white;">üîß Search Box Control</h3>
<label class="switch">
  <input type="checkbox" id="searchToggle">
  <span class="slider round"></span>
</label>
<span id="statusLabel" style="color:white;font-weight:bold;margin-left:10px;">Checking...</span>

<!-- Firebase Script -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyANmru4_kH0eDNgDFURF5aZTaiPgaQ4avU",
    appId: "1:1024721077525:android:c25e4ab10ec8e4166ad51c",
    projectId: "vipteammod-movies",
    databaseURL: "https://vipteammod-movies-default-rtdb.firebaseio.com"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const toggleRef = ref(db, "featureControl/searchEnabled");

  const toggle = document.getElementById("searchToggle");
  const statusLabel = document.getElementById("statusLabel");

  // Live Sync from Firebase
  onValue(toggleRef, (snapshot) => {
    const enabled = snapshot.val() === true;
    toggle.checked = enabled;
    statusLabel.textContent = enabled ? "Search Enabled ‚úÖ" : "Search Disabled ‚ùå";
  });

  // Update Firebase
  toggle.addEventListener("change", () => {
    const state = toggle.checked;
    set(toggleRef, state);
  });
</script>

<!-- Stylish Toggle Switch CSS -->
<style>
  .switch {
    position: relative;
    display: inline-block;
    width: 55px;
    height: 30px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #888;
    transition: 0.4s;
    border-radius: 30px;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: 0.4s;
    border-radius: 50%;
  }

  input:checked + .slider {
    background-color: #00c6ff;
  }

  input:checked + .slider:before {
    transform: translateX(25px);
  }

  .slider.round {
    border-radius: 30px;
  }


</body>
</html>
